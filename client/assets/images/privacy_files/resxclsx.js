var certonaResx=function(){function a(a){return parseInt(a,10)}function b(a){try{if(null!=a&&"null"!=a&&""!=a)return!0}catch(b){}return!1}function c(){return resx.rrelem}function d(a){try{var c=null;if(b(a))if(c=new Array,b(document.getElementById(a)))c[0]=a;else for(var d=a.replace(/[,;\-:]/g,".").split("."),e=0;e<d.length;e++)b(document.getElementById(d[e]))?c[e]=d[e]:c[e]="";return c}catch(g){f("",g)}return null}function e(){try{if(void 0!==resx.rrelem){var a=d(c());if(null!=a)for(var e=null,f=0;f<a.length;f++)e=document.getElementById(a[f]),b(e)&&(e.style.visibility="visible")}}catch(g){}}function f(a,b){try{y||(y=!0,z=escape(a+"|"+(void 0!==b.number?b.number:"undefined")+"|"+(void 0!==b.name?b.name:"undefined")+"|"+(void 0!==b.description?b.description:"undefined")))}catch(c){}finally{e()}}function g(a){try{if(document.cookie.length>0){var b=document.cookie.indexOf(a+"=");if(-1!=b){b+=a.length+1;var c=document.cookie.indexOf(";",b);return-1==c&&(c=document.cookie.length),unescape(document.cookie.substring(b,c))}}}catch(d){f("",d)}return null}function h(a,c,d,e,g){try{var h=new Date;null!=d&&h.setTime(h.getTime()+3600*d*1e3),document.cookie=a+"="+escape(c)+(b(d)?"; expires="+h.toGMTString():"")+(b(e)?"; path="+e:"; path=/")+(b(g)?"; domain="+g:"")}catch(i){f("",i)}}function i(a,b){try{if(void 0!==b&&null!=b)for(var c=0;c<b.length;c++)if(b[c]+""==a)return!0}catch(d){}return!1}function j(){try{var e=void 0!==resx.rrec&&(1==resx.rrec||"true"==resx.rrec)&&"1"==J&&!y;if(e){if(!P&&(e=!1,void 0!==resx.rrelem)){var f=d(c());if(null!=f)for(var g=0;g<f.length;g++)if(b(f[g])){e=!0;break}}if(e&&(void 0===resx.useitems||!b(resx.useitems))&&(e=!1,void 0!==resx.rrnum)){var h=resx.rrnum+"";h=h.replace(/,/g,";");for(var i=h.split(";"),g=0;g<i.length;g++)if(!isNaN(i[g])&&a(i[g])>0){e=!0;break}}}return e}catch(j){}return!1}function k(a){try{var b="";a+="";for(var c=a.length-1;c>=0;c--)b+=a.charAt(c);return b}catch(d){}return""}function l(){try{var a="";if(-1==navigator.userAgent.toLowerCase().indexOf("mac"))a=Math.floor(1e15*Math.random()),a+="";else{var b=Math.floor(1e6*Math.random()),c=new Date,d=c.getTime();d+="";var e=k(d);b+="",a=b+e.substring(0,11)}return a}catch(g){f("guid",g)}return""}function m(a,c,d,e,g,h){try{var j="",k=null,l="";if("object"==typeof a)k=document.getElementsByTagName("a");else{var m=document.getElementById(a);b(m)&&(k=m.getElementsByTagName("a"),l=a)}if(void 0!==k&&null!=k){var n=null,o=null,p=null,q=0,r="",s="",t="",u="",v="",w=null;if(b(c)){p=-1,o=new Array;for(var x=0;x<c.length;x++)if(n=document.getElementById(c[x]),b(n)){w=n.getElementsByTagName("a");for(var y=0;y<w.length;y++)p++,o[p]=w[y]+""}}for(var x=0;x<k.length&&q!=h;x++)r=k[x]+"",b(r)&&(s=escape(r),u="",b(d)&&(s=s.match(d)+""),b(s)&&(u=s.match(e)+""),b(u+"")&&(i(r,o)||(v=s.match(g)+"",t=u+escape("|")+l+escape("|")+(b(v)?v:"")+";",-1==j.indexOf(t)&&(j+=t,q++))))}return j}catch(z){f("gpl",z)}return""}function n(a){try{if(O=!0,!P)for(var c=null,d=0;d<a.Resonance.Response.length;d++)"yes"==a.Resonance.Response[d].display&&(c=document.getElementById(a.Resonance.Response[d].scheme),b(c)&&(c.innerHTML=a.Resonance.Response[d].output))}catch(f){}finally{e()}}function o(){try{O||P||(2e3>Q?(Q+=50,window.setTimeout("certonaResx.checkCallback()",50)):(P=!0,e()))}catch(a){e()}}function p(a){try{var c="",d="",e="";return"boolean"==typeof a&&a===!0?d=void 0!==resx.rrcall&&b(resx.rrcall)?resx.rrcall:N:"string"==typeof a&&(d=a),d.length>0&&(e=d==N?"&cb=":"&ccb=",e+=d),c=(void 0!==resx.useitems&&b(resx.useitems)?"&ui="+resx.useitems:"&no="+resx.rrnum)+(void 0!==resx.exitemid&&b(resx.exitemid)?"&ex="+resx.exitemid:"")+(void 0!==resx.rrqs?"&"+resx.rrqs:"")+e}catch(f){}return""}function q(){try{var a=location.hostname;if(b(a)){if(!a.match(/(\d{1,3}\.){3}\d{1,3}/)){var c=a.split(".");if(c.length>1){a="."+c[c.length-2]+"."+c[c.length-1];var d=/\.(co|com)\.\w{2}$/;a.toLowerCase().match(d)&&c.length>2&&(a="."+c[c.length-3]+a)}}return a}}catch(e){f("gcd",e)}return null}function r(a){try{var b=location.search,c=b.indexOf("?"+a+"=");if(-1==c&&(c=b.indexOf("&"+a+"=")),c>-1){c=c+a.length+2;var d=b.indexOf("&",c);return-1==d?b.substring(c):b.substring(c,d)}}catch(e){}return null}function s(){try{for(var a="",b="",c=0;51>c;c++)void 0!==resx["cv"+c]&&(b=resx["cv"+c]+"",b=b.replace(/\+/g,"%2B"),a+="&cv"+c+"="+encodeURIComponent(b));return a}catch(d){f("gcv",d)}return""}function t(i){try{var k={callback:!1};if(void 0===i)var i=k;else for(var n in k)void 0===i[n]&&(i[n]=k[n]);y=!1,z=null,H="",I="",J="",K="",L="",M=!1,O=!1,P=!1,Q=0;var o=q();if(location.search.indexOf("resxtrack=")>0&&(void 0===resx.trackingid||!b(resx.trackingid))&&(H=r("resxtrack")),void 0!==resx.trackingid&&b(resx.trackingid))H=resx.trackingid;else if(isNaN(a(H))?(H=g(E),isNaN(a(H))&&(H=l(),h(E,H,87648,null,o),b(g(E))||h(E,H,null,null,o))):(h(E,H,87648,null,o),b(g(E))||h(E,H,null,null,o),h(F,"",-1,null,o)),void 0===resx.segment||!b(resx.segment)){var p=a(H);if(!isNaN(p)&&p>0){p+="",p=p.substring(1,6),p=a(p);var s=a(resx.top1),t=a(resx.top2),u=a(resx.top3),v=1e5;isNaN(s)&&isNaN(t)&&isNaN(u)||(isNaN(s)&&(s=0),isNaN(t)&&(t=s),isNaN(u)&&(u=t),s>p?J="1":t>p?J="2":u>p?J="3":v>p&&(J="4"))}h(G,J,1440,null,o),b(g(G))||h(G,J,null,null,o)}void 0!==resx.sessionid&&b(resx.sessionid)||void 0!==resx.trackingid&&b(resx.trackingid)?I=resx.sessionid:(I=g(F),b(I)||(I=l()),h(F,I,.5,null,o),b(g(F))||h(F,I,null,null,o)),void 0!==resx.segment&&b(resx.segment)&&(J=resx.segment),isNaN(a(J))&&(J="1"),K=void 0!==resx.pageid&&b(resx.pageid)?resx.pageid:l();var w=void 0!==resx.links?resx.links+"":"";if(b(w))for(var x=w.replace(/\,/g,";").replace(/\|/g,"%7C").split(";",50),A=0;A<x.length;A++)L+=x[A]+";";var B=void 0===resx.maxl||isNaN(resx.maxl)?20:a(resx.maxl),C=void 0!==resx.lkmatch?resx.lkmatch:"",D=void 0!==resx.ltmatch?resx.ltmatch:"";if(b(C)){var R=void 0!==resx.plkmatch?resx.plkmatch:"",S=null;if(void 0!==resx.rrelem&&(S=d(c())),null!=S)for(var A=0;A<S.length;A++)b(S[A])&&(L+=m(S[A],null,R,C,D,50));B>0&&(L+=m(document,S,R,C,D,B))}("string"==typeof i.callback&&i.callback!=N||0==i.callback||void 0!==resx.rrcall&&b(resx.rrcall)&&resx.rrcall!=N)&&(P=!0),M=j()&&b(H)&&b(K),M||e()}catch(T){f("pv",T)}}function u(a){try{if("1"==J||"2"==J||"3"==J){M&&window.setTimeout("certonaResx.checkCallback();",50);var d="appid="+(void 0!==resx.appid?resx.appid:"")+"&tk="+(b(H)?H:"")+"&ss="+(b(I)?I:"")+"&sg="+(b(J)?J:"")+"&pg="+(b(K)?K:"")+"&vr="+D+"&bx="+M,e="";if(void 0!==resx.rrelem){var g=c().replace(/[,;\-:]/g,".").split(".");if(null!=g)for(var h=0;h<g.length;h++)e+="&sc="+g[h]}d+=e+(void 0!==resx.event?"&ev="+resx.event:"")+(void 0!==resx.itemid?"&ei="+resx.itemid:"")+(void 0!==resx.qty?"&qty="+resx.qty:"")+(void 0!==resx.price?"&pr="+resx.price:"")+(void 0!==resx.shipping?"&sh="+resx.shipping:"")+(void 0!==resx.total?"&tt="+resx.total:"")+(void 0!==resx.currencycode?"&cc="+resx.currencycode:"")+(void 0!==resx.customerid?"&cu="+resx.customerid:"")+(void 0!==resx.transactionid?"&tr="+resx.transactionid:""),d+=(M?p(a):"")+s()+"&ur="+escape(location.href.substring(0,400))+"&plk="+(b(L)?L:"")+"&rf="+escape(document.referrer)+(y?"&er="+y+"&em="+z:"");var i=B;void 0!==resx.host&&b(resx.host)&&(i=resx.host);var j=A+i+C+"?"+d;return j.substring(0,2083)}}catch(k){f("",k)}return""}function v(a){try{if(""!=a){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=a;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}catch(d){f("",d)}}function w(a){var b={callback:!1};if(void 0===a)var a=b;else for(var c in b)void 0===a[c]&&(a[c]=b[c]);return u(a.callback)}function x(){t({callback:!0});var a=u(!0);v(a)}var y=!1,z=null,A="https:"==location.protocol.toLowerCase()?"https://":"http://",B="www.res-x.com",C="/ws/r2/Resonance.aspx",D="4.2x",E="RES_TRACKINGID",F="RES_SESSIONID",G="ResonanceSegment",H="",I="",J="",K="",L="",M=!1,N="certonaResx.showResponse",O=!1,P=!1,Q=0;return{checkCallback:function(){o()},showResponse:function(a){n(a)},getURL:function(a){return t(a),w(a)},run:function(){x()}}}();